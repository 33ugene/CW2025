<?import com.comp2042.GameOverPanel?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.Group?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane fx:controller="com.comp2042.GuiController"
            xmlns:fx="http://javafx.com/fxml"
            style="-fx-background-color: linear-gradient(to bottom, #2c3e50, #34495e);">

    <!-- Main Game Content - This will be perfectly centered -->
    <HBox alignment="CENTER" spacing="40" BorderPane.alignment="CENTER">

        <!-- Left Side: Game Board -->
        <VBox spacing="20" alignment="CENTER">
            <!-- Game Board -->
            <BorderPane style="-fx-background-color: rgba(0,0,0,0.3); -fx-background-radius: 10; -fx-border-color: #ecf0f1; -fx-border-width: 2; -fx-border-radius: 10;"
                        prefWidth="220" prefHeight="440">
                <center>
                    <GridPane fx:id="gamePanel" hgap="1" vgap="1"
                              prefWidth="210" prefHeight="420" maxWidth="210" maxHeight="420"
                              style="-fx-background-color: rgba(0,0,0,0.5);"/>
                </center>
            </BorderPane>

            <!-- Current Piece Display -->
            <VBox spacing="5" alignment="CENTER">
                <Label text="CURRENT" style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
                <GridPane fx:id="brickPanel" vgap="1" hgap="1"
                          style="-fx-border-color: #bdc3c7; -fx-border-width: 1; -fx-background-color: rgba(0,0,0,0.2);"
                          prefWidth="80" prefHeight="80"/>
            </VBox>
        </VBox>

        <!-- Right Side: Stats and Info -->
        <VBox spacing="20" alignment="TOP_CENTER">

            <!-- Stats Panel -->
            <VBox spacing="8" style="-fx-padding: 15; -fx-background-color: rgba(0,0,0,0.4); -fx-background-radius: 10; -fx-border-color: #7f8c8d; -fx-border-width: 1; -fx-border-radius: 10;"
                  prefWidth="140">
                <Label text="TETRIS" style="-fx-text-fill: #ecf0f1; -fx-font-size: 18px; -fx-font-weight: bold; -fx-alignment: center;"/>
                <Separator style="-fx-background-color: #7f8c8d;"/>

                <Label text="SCORE" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;"/>
                <Label fx:id="scoreLabel" text="0" style="-fx-text-fill: #ecf0f1; -fx-font-size: 16px; -fx-font-weight: bold;"/>

                <Label text="LINES" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;"/>
                <Label fx:id="linesLabel" text="0" style="-fx-text-fill: #ecf0f1; -fx-font-size: 16px; -fx-font-weight: bold;"/>

                <Label text="LEVEL" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;"/>
                <Label fx:id="levelLabel" text="1" style="-fx-text-fill: #ecf0f1; -fx-font-size: 16px; -fx-font-weight: bold;"/>

                <Label text="TIME" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;"/>
                <Label fx:id="timerLabel" text="00:00" style="-fx-text-fill: #ecf0f1; -fx-font-size: 16px; -fx-font-weight: bold;"/>
            </VBox>

            <!-- Next Piece Panel -->
            <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: rgba(0,0,0,0.4); -fx-background-radius: 8; -fx-border-color: #7f8c8d; -fx-border-width: 1; -fx-border-radius: 8;">
                <Label text="NEXT" style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
                <GridPane fx:id="nextPiecePanel" hgap="2" vgap="2"/>
            </VBox>

            <!-- Hold Piece Panel -->
            <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: rgba(0,0,0,0.4); -fx-background-radius: 8; -fx-border-color: #7f8c8d; -fx-border-width: 1; -fx-border-radius: 8;">
                <Label text="HOLD" style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
                <GridPane fx:id="holdPiecePanel" hgap="2" vgap="2"/>
                <Label fx:id="holdLabel" text="Ready" style="-fx-text-fill: #2ecc71; -fx-font-size: 11px;"/>
            </VBox>

            <!-- Controls Info -->
            <VBox spacing="5" style="-fx-padding: 10; -fx-background-color: rgba(0,0,0,0.4); -fx-background-radius: 8;">
                <Label text="CONTROLS" style="-fx-text-fill: #ecf0f1; -fx-font-weight: bold;"/>
                <Label text="←→ : Move" style="-fx-text-fill: #bdc3c7; -fx-font-size: 11px;"/>
                <Label text="↑ : Rotate" style="-fx-text-fill: #bdc3c7; -fx-font-size: 11px;"/>
                <Label text="↓ : Soft Drop" style="-fx-text-fill: #bdc3c7; -fx-font-size: 11px;"/>
                <Label text="SPACE : Hard Drop" style="-fx-text-fill: #bdc3c7; -fx-font-size: 11px;"/>
                <Label text="C : Hold" style="-fx-text-fill: #bdc3c7; -fx-font-size: 11px;"/>
                <Label text="P : Pause" style="-fx-text-fill: #bdc3c7; -fx-font-size: 11px;"/>
                <Label text="N : New Game" style="-fx-text-fill: #bdc3c7; -fx-font-size: 11px;"/>
            </VBox>
        </VBox>
    </HBox>

    <!-- Overlay Elements (Game Over, Pause) -->
    <Group fx:id="groupNotification" BorderPane.alignment="CENTER">
        <VBox alignment="CENTER">
            <GameOverPanel fx:id="gameOverPanel"/>
        </VBox>
    </Group>

    <!-- Pause Overlay -->
    <Label fx:id="pauseLabel" text="⏸️ PAUSED"
           style="-fx-font-size: 32px; -fx-text-fill: #f39c12; -fx-font-weight: bold; -fx-background-color: rgba(0,0,0,0.8); -fx-padding: 20px; -fx-background-radius: 10;"
           visible="false"
           BorderPane.alignment="CENTER"/>

</BorderPane>